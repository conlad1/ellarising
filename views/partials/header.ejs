<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= title || 'Ella Rises Admin' %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="apple-touch-icon" href="/images/favicon.ico">
  <!-- Main Styles -->
  <link rel="stylesheet" href="/css/main.css">
  <!-- Google Font (similar feel) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- Dynamic navbar height calculation -->
  <script>
    // Calculate actual navbar height and set CSS variable for subnav positioning
    // Use 'load' event to ensure all resources (fonts, images, stylesheets) are loaded
    function calculateNavbarHeight() {
      const navbar = document.querySelector('.navbar');
      if (navbar) {
        const height = navbar.offsetHeight;
        document.documentElement.style.setProperty('--navbar-height', height + 'px');
      }
    }
    
    // If page is already loaded, calculate immediately; otherwise wait for load event
    if (document.readyState === 'complete') {
      calculateNavbarHeight();
    } else {
      window.addEventListener('load', calculateNavbarHeight);
    }
  </script>
</head>
<body>
  <header>
    <%- include('navbar', { currentUser, currentPath: typeof currentPath !== 'undefined' ? currentPath : '' }) %>
  </header>

  <main class="page-container">
    <%- include('flash') %>
