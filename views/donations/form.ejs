<%- include('../partials/header', { title: formTitle || 'Donation', currentUser }) %>

<section class="section">
  <div class="card card-narrow">
    <h1 class="section-title"><%= formTitle || 'Record Donation' %></h1>

    <form action="<%= formAction %>" method="POST" class="form">
      <% if (typeof csrfToken !== 'undefined') { %>
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <% } %>

      <div class="form-group">
        <label for="donor_name">Donor Name</label>
        <input id="donor_name" name="donor_name" type="text" value="<%= donation?.donor_name || '' %>">
      </div>

      <div class="form-group-inline">
        <div class="form-group">
          <label for="amount">Amount (USD)</label>
          <input id="amount" name="amount" type="number" min="1" step="1" value="<%= donation?.amount || '' %>" required>
        </div>
        <div class="form-group">
          <label for="date">Date</label>
          <input id="date" name="date" type="date" value="<%= donation?.dateISO || '' %>">
        </div>
      </div>

      <div class="form-group">
        <label for="source">Source / Campaign</label>
        <input id="source" name="source" type="text" value="<%= donation?.source || '' %>">
      </div>

      <div class="form-actions">
        <button class="btn btn-primary">Save</button>
        <a href="/donations" class="btn btn-text">Cancel</a>
      </div>
    </form>
  </div>
</section>

<%- include('../partials/footer') %>
